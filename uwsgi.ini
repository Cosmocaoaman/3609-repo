[uwsgi]
# Django 项目根目录
chdir = /home/ubuntu/Fri-13-16-01

# Django WSGI 模块
module = DjangoProject.wsgi:application

# Python 虚拟环境路径
home = /home/ubuntu/Fri-13-16-01/venv
pythonpath = /home/ubuntu/Fri-13-16-01

# 进程设置
master = true
processes = 4
threads = 2
max-requests = 5000
vacuum = true
die-on-term = true

# Socket 设置（Nginx 会连接到这个地址）
socket = 127.0.0.1:8000
chmod-socket = 666
buffer-size = 32768

# 日志设置（使用项目目录下的 logs 文件夹）
logto = /home/ubuntu/Fri-13-16-01/logs/uwsgi.log
log-maxsize = 50000000
log-backupcount = 5

# 进程文件（用于进程管理）
pidfile = /home/ubuntu/Fri-13-16-01/logs/uwsgi.pid

# 守护进程模式（后台运行）
# 注意：如果使用 systemd 管理服务，不需要 daemonize 选项
# 如果需要后台运行，取消下面的注释
# daemonize = /home/ubuntu/Fri-13-16-01/logs/uwsgi-daemon.log

# 启用线程支持
enable-threads = true
single-interpreter = true

# 环境变量
env = DJANGO_SETTINGS_MODULE=DjangoProject.settings

# 内存相关
harakiri = 60
harakiri-verbose = true
reload-mercy = 10

# 优雅重启
touch-reload = /home/ubuntu/Fri-13-16-01/reload.trigger

